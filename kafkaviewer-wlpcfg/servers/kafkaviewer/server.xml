<server description="kafkaviewer">

    <!-- Enable features -->
    <featureManager>
        <feature>servlet-3.1</feature>
        <feature>localConnector-1.0</feature>
        <feature>concurrent-1.0</feature>
        <feature>websocket-1.1</feature>
        <feature>jndi-1.0</feature>
        <feature>jsonp-1.0</feature>
        <feature>cdi-1.2</feature>
        <feature>appSecurity-2.0</feature>
        <feature>jca-1.7</feature>
    </featureManager>
    
    <!-- To access this server from a remote client add a host attribute to the following element, e.g. host="*" -->
    <httpEndpoint host="*" httpPort="7080" httpsPort="7443" id="defaultHttpEndpoint"/>
                  
    <!-- Automatically expand WAR files and EAR files -->
    <applicationManager autoExpand="true"/>
  
    <managedScheduledExecutorService jndiName="concurrent/execSvc"/>  
     
    <library id="messageHubLoginLib">
  	<fileset dir="${server.config.dir}" includes="messagehub.login-1.0.0.jar"/>
    </library>

    <jaasLoginModule className="com.ibm.messagehub.login.MessageHubLoginModule" controlFlag="REQUIRED" id="KafkaClient" libraryRef="messageHubLoginLib">
       <options password="${env.KAFKA_PASSWORD}" serviceName="kafka" username="${env.KAFKA_USER}"/>
    </jaasLoginModule>

    <jaasLoginContextEntry id="KafkaClient" loginModuleRef="KafkaClient" name="KafkaClient"/>

    <keyStore id="defaultKeyStore" password="wibble"/>

    <webApplication id="MessageHubView" location="KafkaView.war" name="MessageHubView"/>
</server>
